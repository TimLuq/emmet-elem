{"version":3,"file":"emmet-elem.js","sources":["emmet-elem.ts"],"sourcesContent":[null],"names":["parsedM","Map","defDoc","setDefDoc","document","clear","emmetSlots","strings","options","dd","undefined","doc","cache","isTemplateStringsArray","raw","parsed","get","parseEmmet","set","root","cloneNode","slots","length","e","querySelectorAll","n","parseInt","getAttribute","prevSlot","Array","isArray","push","arr","slotted","values","o","v","slotsn","elems","c","i","ie","contentToNode","appendChild","then","childNodes","textContent","toString","emmet","slotn","ab","al","a","remove","par","parentNode","replaceChild","node","content","createTextNode","Error","groups","base","curr","attachTo","xp","string","nsaware","end","search","added","createElement","setAttribute","startsWith","substring","oldBase","oldCurr","pop","tag","ns","pfxlen","indexOf","pfx","xmlnsOverride","lookupNamespaceURI","elem","createElementNS","id","classList","add","mid","name","oc","charAt","off","val","nselem","tagName","attributes","setAttributeNS","namespaceURI","value","p","removeChild","nsp","count","createDocumentFragment","currPar","nodeType"],"mappings":"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"}