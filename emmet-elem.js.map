{"version":3,"file":"emmet-elem.js","sources":["emmet-elem.ts"],"sourcesContent":[null],"names":["parsedM","Map","defDoc","setDefDoc","document","clear","emmetSlots","strings","options","dd","undefined","doc","cache","isTemplateStringsArray","raw","parsed","get","parseEmmet","set","root","cloneNode","slots","length","e","querySelectorAll","n","parseInt","getAttribute","prevSlot","Array","isArray","push","arr","slotted","values","o","v","slotsn","elems","c","i","ie","contentToNode","appendChild","then","childNodes","textContent","toString","emmet","slotn","ab","al","a","remove","par","parentNode","replaceChild","node","content","createTextNode","Error","groups","base","curr","attachTo","prevLen","xp","string","nsaware","end","search","added","createElement","setAttribute","startsWith","substring","oldBase","oldCurr","pop","tag","ns","pfxlen","indexOf","pfx","xmlnsOverride","lookupNamespaceURI","elem","createElementNS","id","classList","add","mid","name","oc","charAt","off","val","nselem","tagName","attributes","setAttributeNS","namespaceURI","value","p","removeChild","nsp","count","createDocumentFragment","currPar","nodeType"],"mappings":"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"}